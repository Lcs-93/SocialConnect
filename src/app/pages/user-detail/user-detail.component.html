<div class="container">
  <div *ngIf="loading" class="loading"></div>
  
  <div *ngIf="!loading && error" class="error">
    <p>{{error}}</p>
    <a routerLink="/" class="btn">Back to Users</a>
  </div>
  
  <div *ngIf="!loading && !error && user" class="user-detail">
    <div class="back-link">
      <a routerLink="/" class="btn back-btn">&larr; Back to Users</a>
    </div>
    
    <div class="user-profile">
      <div class="profile-header">
        <div class="avatar large">{{getUserInitials()}}</div>
        <div class="user-info">
          <h2 class="user-name">{{user.name}}</h2>
          <p class="user-username"><span>&#64;</span>{{ user.username }}</p>
        </div>
      </div>
      
      <div class="user-details">
        <div class="detail-item">
          <span class="detail-label">Email:</span>
          <span class="detail-value">{{user.email}}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Phone:</span>
          <span class="detail-value">{{user.phone}}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Website:</span>
          <a href="http://{{user.website}}" target="_blank" class="detail-link">{{user.website}}</a>
        </div>
        <div class="detail-item">
          <span class="detail-label">Company:</span>
          <span class="detail-value">{{user.company.name}}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Address:</span>
          <span class="detail-value">
            {{user.address.street}}, {{user.address.suite}}, {{user.address.city}}, {{user.address.zipcode}}
          </span>
        </div>
      </div>
    </div>
    
    <h3 class="section-title">Posts by {{user.name}}</h3>
    
    <div *ngIf="loadingPosts" class="loading"></div>
    
    <div *ngIf="!loadingPosts && postsError" class="error">
      <p>{{postsError}}</p>
    </div>
    
    <div *ngIf="!loadingPosts && !postsError && posts.length === 0" class="no-posts">
      <p>No posts found for this user.</p>
    </div>
    
    <div *ngIf="!loadingPosts && !postsError && posts.length > 0" class="posts-grid">
      <app-post-card *ngFor="let post of posts" [post]="post" [user]="user"></app-post-card>
    </div>
  </div>
</div>